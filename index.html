<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gift Ulang Tahun Interaktif</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@12/swiper-bundle.min.css"/>
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <section class="hero">
    <div class="container">
      <video autoplay loop muted playsinline class="overlay-video">
        <source src="PICTURES/koalaa.mp4" type="video/mp4">
      </video>
    </div>

    <div class="overlay"></div>

    <div class="content">
      <h1>TODAY IS YOUR BIRTHDAY</h1>
      <button onclick="playAudio()">PLAY IT</button>

      <audio id="song-for-you" loop>
        <source src="PICTURES/Nadin_Amizah_-_Semua_Aku_Dirayakan_CeeNaija.com_.mp3" type="audio/mpeg">
      </audio>
    </div>
  </section>

  
  <section class="second-section">
    <div class="text-box">
      <div class="message">
        <p>24 tahun yang lalu, pertengahan bulan syawal 1422H, kamu dihadirkan dalam kehidupan ini.<br>Mungkin kamu gak begitu suka dengan hari kelahiran kamu tapi kehadiran kamu layak dirayakan. Selamat Ulang Tahun, semoga di usia yang ke-24 ini, banyak hal baik menghampirimu, semoga kamu senantiasa dalam keadaan sehat dan kuat serta menjadi seseorang yang diberikan kelimpahan rasa bahagia melalui rasa syukur yang besar. Bertumbuhlah menjadi laki-laki dewasa yang senantiasa baik dan penuh cinta, Koala. Kehadiranmu berarti untuk sebagian orang dan terima kasih sudah bertahan hingga detik ini üê®‚ú®</p>
      </div>
    </div>
  </section>


  <section class="galaxy-section">
    <video autoplay loop muted playsinline class="galaxy-bg-video">
      <source src="PICTURES/202512232025(1)(1)(1).mp4" type="video/mp4">
    </video>
    <div class="galaxy-bg-overlay"></div>

    <section class="third-section">
      <div class="swiper mySwiper">
        <div class="swiper-wrapper">
          <div class="swiper-slide">
            <img src="PICTURES/Foto 1.jpg" />
              <div class="info">
                <small>Banyak yang bilang Farhan ramah</small>
              </div>
          </div>

          <div class="swiper-slide">
            <img src="PICTURES/Foto 2.jpg" />
              <div class="info">
                <small>Tapi orang gak tau, kalo dia itu suka banget kaget sama plot twist dari kehidupan</small>
              </div>
          </div>

          <div class="swiper-slide">
            <img src="PICTURES/Foto 3.jpg" />
              <div class="info">
                <small>Dia bisa yang tiba-tiba overthinking apalagi kalo malam, bukannya tidur malah ngelamun sambil nyebat</small>
              </div>
          </div>

          <div class="swiper-slide">
            <img src="PICTURES/Foto 4.jpg" />
              <div class="info">
                <small>Dia suka banget menggalau tiba-tiba dan dia suka banget dengerin lagu-lagu yang galau</small>
              </div>
          </div>
            
          <div class="swiper-slide">
            <img src="PICTURES/Foto 5.jpg" />
              <div class="info">
                <small>Farhan suka bilang, semua cewek yang dia temui itu cantik. Hm...</small>
              </div>
          </div>

          <div class="swiper-slide">
            <img src="PICTURES/Foto 7.jpg" />
              <div class="info">
                <small>Dia gampang banget marah, seriusan!</small>
              </div>
          </div>

          <div class="swiper-slide">
            <img src="PICTURES/Foto 8.jpg" />
              <div class="info">
                <small>Kamu tau gak? aku buat ini karena aku itu lucu dan kamu nyebelin!</small>
              </div>  
          </div>
        </div>
        <div class="swiper-pagination"></div>
      </div>
    </section>
    <div class="section-transition"></div>

    <section class="wishes-section">
      <div class="wishes-title">
         <h2>A LETTER FROM SPACE</h2>

          <div class="wishes-grid">
            <div class="wish-card">
              <h3>FROM THE SUN</h3>
              <p>Matahari menjadi pusat tata surya, menjadi sumber cahaya dari kehidupan. Semoga engkau dapat selalu diberikan kekuatan untuk tetap bersinar dan menjadi cahaya bagi orang-orang disekitar meskipun hari-hari yang kamu jalani terasa berat.</p>
            </div>

            <div class="wish-card">
              <h3>FROM THE MOON</h3>
              <p>Bulan senantiasa hadir dalam berbagai fase, tak pernah menghilang dari peradaban. Semoga kamu senantiasa bisa mencintai dirimu sendiri dan tak pernah pergi meninggalkan dirimu dalam kondisi apapun, sebab sebagian dari dirimu adalah bumi dan separuh jiwamu adalah bulan.</p>
            </div>

            <div class="wish-card">
              <h3>FROM THE PLANET</h3>
              <p>Planet senantiasa bergerak dalam orbitnya sendiri. Semoga kamu dapat berjalan dengan ritme langkah yang kamu miliki tanpa membandingkannya dengan milik orang lain.</p>
            </div>

            <div class="wish-card">
              <h3>FROM THE STAR</h3>
              <p>Bintang menjadi benda langit yang digunakan sebagai penunjuk arah di kala malam tiba. Semoga ditengah gelapnya malam kamu, kamu akan selalu menemukan harapan dan arah, meski langkahmu terasa ragu.</p>
            </div>
          
            <div class="wish-card">
              <h3>FROM THE GALAXY</h3>
              <p>Galaksi merupakan tempat berkumpulnya para bintang. Semoga di manapun kamu berada, kamu akan senantiasa menemukan tempat untuk pulang.</p>
            </div>
          
            <div class="wish-card">
              <h3>FROM THE SATELLITE</h3>
              <p>Satelit bergerak mengelilingi bumi untuk menjaga dan menghubungkan kehidupan mahluk di dalamnya. Semoga kamu selalu berada dalam lindungan Allah dan tetap terhubung dengan-Nya.</p>
            </div>
          </div>
      </div>
    </section>
  </section>

  <section class="footer">
    <div class="footer-section">
      <p>Ìï¥Î∞îÎùºÍ∏∞</p>
    </div>
  </section>

  <script>
    const title = document.querySelector('.content h1');
    const text = title.textContent;
    title.textContent = '';
    
    for (let i = 0; i < text.length; i++) {
      const span = document.createElement('span');
      span.textContent = text[i];
      if (text[i] === ' ') {
        span.style.width = '0.3em';
      }
      title.appendChild(span);
    }

    document.addEventListener('mousemove', (e) => {
      const mouseX = e.clientX / window.innerWidth;
      const mouseY = e.clientY / window.innerHeight;
      const video = document.querySelector('.overlay-video');
      if (video) {
        const moveX = (mouseX - 0.5) * 30;
        const moveY = (mouseY - 0.5) * 30;
        video.style.transform = `translate(${moveX}px, ${moveY}px) scale(1.1)`;
      }
      
      const content = document.querySelector('.content');
      if (content && window.pageYOffset < 100) {
        const moveX = (mouseX - 0.5) * -20;
        const moveY = (mouseY - 0.5) * -20;
        content.style.transform = `translate(${moveX}px, ${moveY}px)`;
      }

      const textBox = document.querySelector('.text-box');
      if (textBox) {
        const rect = textBox.getBoundingClientRect();
        if (rect.top < window.innerHeight && rect.bottom > 0) {
          const moveX = (mouseX - 0.5) * 15;
          const moveY = (mouseY - 0.5) * 15;
          textBox.style.transform = `translate(${moveX}px, ${moveY}px)`;
        }
      }

      const closeContent = document.querySelector('.close-content');
      if (closeContent) {
        const rect = closeContent.getBoundingClientRect();
        if (rect.top < window.innerHeight && rect.bottom > 0) {
          const moveX = (mouseX - 0.5) * 15;
          const moveY = (mouseY - 0.5) * 15;
          closeContent.style.transform = `translate(${moveX}px, ${moveY}px)`;
        }
      }
    });
  </script>
  
  <script>
    function playAudio() {
      const audio = document.getElementById("song-for-you");

      audio.play()
        .then(() => console.log("Audio jalan"))
        .catch(err => {
          console.error(err);
          alert("Audio gagal diputar. Cek file MP3.");
      });
    }

    const observerOptions = {
      threshold: 0.15,
      rootMargin: '0px 0px -100px 0px'
    };

    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');
        }
      });
    }, observerOptions);

    document.querySelectorAll('.fade-in, .fade-left, .fade-right, .zoom-in, .rotate-in').forEach(el => {
      observer.observe(el);
    });

  </script>

  <script>
    const galaxy = document.querySelector('.galaxy-bg-video');
    const secondSection = document.querySelector('.second-section');

    window.addEventListener('scroll', () => {
      const rect = secondSection.getBoundingClientRect();

      if (rect.bottom < window.innerHeight * 0.2) {
        galaxy.style.opacity = '1';
      } else {
          galaxy.style.opacity = '0';
        }
    });
  </script>

  <script src="https://cdn.jsdelivr.net/npm/swiper@12/swiper-bundle.min.js"></script>
  <script>
      var swiper = new Swiper(".mySwiper", {
          effect: "coverflow",
          grabCursor: true,
          centeredSlides: true,
          slidesPerView: "auto",
            coverflowEffect: {
              rotate: 50,
              stretch: 0,
              depth: 100,
              modifier: 1,
              slideShadows: true,
            },
            pagination: {
              el: ".swiper-pagination",
            },
            on: {
              init: function() {
                document.querySelectorAll('.info').forEach(info => {
                info.style.opacity = '0';
                info.style.transform = 'translateY(100%)';
                });
        
                const activeSlide = this.slides[this.activeIndex];
                const activeInfo = activeSlide.querySelector('.info');
                if (activeInfo) {
                  activeInfo.style.opacity = '1';
                  activeInfo.style.transform = 'translateY(0)';
                }
              },
      
              slideChange: function() {
                document.querySelectorAll('.info').forEach(info => {
                  info.style.opacity = '0';
                  info.style.transform = 'translateY(100%)';
                });
        
                const activeSlide = this.slides[this.activeIndex];
                const activeInfo = activeSlide.querySelector('.info');
                if (activeInfo) {
                  activeInfo.style.opacity = '1';
                  activeInfo.style.transform = 'translateY(0)';
                }
              }
            }
      });
  </script>

  <script>
    const hero = document.querySelector('.hero');
    const overlay = document.querySelector('.overlay');
    const content = document.querySelector('.content');
    const textBox = document.querySelector('.text-box')
    const video = document.querySelector('.overlay-video');
    const wishCards = document.querySelectorAll('.wish-card')

    // matikan di HP
    if (window.innerWidth > 768) {
      document.addEventListener('mousemove', (e) => {

        const x = (e.clientX / window.innerWidth - 0.5) * 20;
        const y = (e.clientY / window.innerHeight - 0.5) * 20;

        // HERO
        video?.style.setProperty('--mx', `${x}px`);
        video?.style.setProperty('--my', `${y}px`);

        content?.style.setProperty('--cx', `${-x * 0.4}px`);
        content?.style.setProperty('--cy', `${-y * 0.4}px`);

        // SECOND SECTION
        if (textBox) {
          textBox.style.setProperty('--tx', `${x * 0.3}px`);
          textBox.style.setProperty('--ty', `${y * 0.3}px`);
        }
      });
    }
  </script>

  <script>
    const observer = new IntersectionObserver(
      entries => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('visible');
          }
        });
      },
      {
        threshold: 0.3,
        rootMargin: '0px 0px -100px 0px'
      }
    );

    const textBox = document.querySelector('.text-box');
    if (textBox) observer.observe(textBox);
  </script>

  <script>
    const wishesGrid = document.querySelector('.wishes-grid');
    const prevBtn = document.querySelector('.wishes-btn-prev');
    const nextBtn = document.querySelector('.wishes-btn-next');

    if (wishesGrid && prevBtn && nextBtn) {

      const getScrollAmount = () => {
        const card = wishesGrid.querySelector('.wish-card');
        return card ? card.offsetWidth + 30 : 300;
      };

      nextBtn.addEventListener('click', () => {
        wishesGrid.scrollBy({
          left: getScrollAmount(),
          behavior: 'smooth'
        });
      });

      prevBtn.addEventListener('click', () => {
        wishesGrid.scrollBy({
          left: -getScrollAmount(),
          behavior: 'smooth'
        });
      });
    }
  </script>


  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>
  <script src="parallax.js"></script>

  <script>
      gsap.registerPlugin(ScrollTrigger)
      gsap.to('.overlay', {
        opacity: 0,
        ease: 'none',
        scrollTrigger: {
        trigger: '.hero',
        start: 'top top',
        end: 'center top',
        scrub: true,
      }
    });

    gsap.to('.content', {
      y: '100%',
      opacity: 0,
      ease: 'none',
      scrollTrigger: {
        trigger: '.hero',
        start: 'top top',
        end: 'bottom top',
        scrub: 0.5,
      }
    });

    // Galaxy muncul lebih awal (OVERLAP)
    gsap.to(".galaxy-bg-video", {
      opacity: 1,
      scale: 1,
      ease: "none",
      scrollTrigger: {
        trigger: ".second-section",
        start: "top 60%",
        end: "bottom top",
        scrub: 2
      }
    });

    gsap.to(".mySwiper", {
      y: -80,
      ease: "none",
      scrollTrigger: {
        trigger: ".mySwiper",
        start: "top bottom",
        end: "bottom top",
        scrub: 1.5,
      }
    });

    gsap.from('.swiper-slide', {
      opacity: 0,
      scale: 0.8,
      y: 50,
      stagger: 0.2,
      duration: 1.2,
      ease:'power2.out',
      scrollTrigger: {
        trigger: '.mySwiper',
        start: 'top 80%',
        toggleActions: "play none none reverse"
      }
    });

    gsap.from('.footer-content p', {
      y: 30,
      opacity: 0,
      duration: 1.5,
      ease: 'power2.out',
      scrollTrigger: {
        trigger: '.footer',
        start: 'top 90%',
      }
    });

    gsap.from('.footer-content small', {
      y: 30,
      opacity: 0,
      duration: 1,
      delay: 0.3,
      ease: 'power2.out',
      scrollTrigger: {
        trigger: '.footer',
        start: 'top 80%',
      }
    });

    /// title
    gsap.from('.wishes-title', {
      y: 80,
      opacity: 0,
      duration: 1.4,
      ease: 'power3.out',
      scrollTrigger: {
        trigger: '.wishes-section',
        start: 'top 80%',
        toggleActions: 'play none none reverse'
      }
    });

    /// cards appear
    gsap.from('.wish-card', {
      y: 120,
      opacity: 0,
      scale: 0.9,
      stagger: 0.15,
      duration: 1.2,
      ease: 'power3.out',
      scrollTrigger: {
        trigger: '.wishes-grid',
        start: 'top 75%',
        toggleActions: 'play none none reverse'
      } 
    });
  </script>

</body>
</html>